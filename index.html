<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lions Karate Club | Professional Belt Examination System</title>
    
    <!-- Bootstrap 5 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800;900&family=Montserrat:wght@700;800;900&family=Raleway:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Devanagari:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --primary-blue: #1a237e;
            --primary-blue-light: #283593;
            --primary-blue-dark: #0d47a1;
            --accent-gold: #ffc107;
            --accent-gold-light: #ffd54f;
            --accent-red: #d32f2f;
            --light-gray: #f8f9fa;
            --dark-gray: #212121;
            --success-green: #4caf50;
            --warning-orange: #ff9800;
            --shadow-sm: 0 4px 12px rgba(0,0,0,0.08);
            --shadow-md: 0 8px 30px rgba(0,0,0,0.12);
            --shadow-lg: 0 15px 50px rgba(0,0,0,0.15);
            --transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #f5f7ff 0%, #e8f4f8 100%);
            color: var(--dark-gray);
            line-height: 1.7;
            overflow-x: hidden;
            position: relative;
        }
        
        .marathi-text {
            font-family: 'Noto Sans Devanagari', sans-serif;
            font-weight: 500;
            line-height: 1.8;
        }
        
        /* Header & Navigation */
        .navbar-brand {
            font-family: 'Montserrat', sans-serif;
            font-weight: 900;
            font-size: 1.8rem;
            color: var(--primary-blue) !important;
        }
        
        .navbar-brand span {
            color: var(--accent-gold);
        }
        
        .hero-section {
            background: linear-gradient(rgba(26, 35, 126, 0.9), rgba(26, 35, 126, 0.95)), url('https://images.unsplash.com/photo-1544367567-0f2fcb009e0b?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80');
            background-size: cover;
            background-position: center;
            color: white;
            padding: 100px 0 80px;
            position: relative;
            overflow: hidden;
        }
        
        .hero-title {
            font-family: 'Montserrat', sans-serif;
            font-size: 3.5rem;
            font-weight: 900;
            margin-bottom: 20px;
            text-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }
        
        .hero-subtitle {
            font-size: 1.5rem;
            opacity: 0.9;
            margin-bottom: 30px;
        }
        
        /* Animated Elements */
        .floating-element {
            animation: float 6s ease-in-out infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }
        
        .pulse {
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        
        /* Cards */
        .card-custom {
            background: white;
            border-radius: 20px;
            border: none;
            box-shadow: var(--shadow-sm);
            transition: var(--transition);
            overflow: hidden;
        }
        
        .card-custom:hover {
            transform: translateY(-10px);
            box-shadow: var(--shadow-lg);
        }
        
        .card-header-custom {
            background: linear-gradient(135deg, var(--primary-blue) 0%, var(--primary-blue-light) 100%);
            color: white;
            padding: 25px;
            font-size: 1.5rem;
            font-weight: 700;
            border-bottom: none;
        }
        
        /* Buttons */
        .btn-primary-custom {
            background: linear-gradient(135deg, var(--primary-blue) 0%, var(--primary-blue-light) 100%);
            color: white;
            border: none;
            padding: 15px 40px;
            border-radius: 50px;
            font-weight: 600;
            font-size: 1.1rem;
            transition: var(--transition);
            box-shadow: 0 8px 25px rgba(26, 35, 126, 0.25);
        }
        
        .btn-primary-custom:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(26, 35, 126, 0.35);
            color: white;
        }
        
        .btn-gold {
            background: linear-gradient(135deg, var(--accent-gold) 0%, #ffb300 100%);
            color: #333;
            border: none;
            padding: 15px 40px;
            border-radius: 50px;
            font-weight: 600;
            font-size: 1.1rem;
            transition: var(--transition);
            box-shadow: 0 8px 25px rgba(255, 193, 7, 0.25);
        }
        
        .btn-gold:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(255, 193, 7, 0.35);
            color: #333;
        }
        
        /* Form Styles */
        .form-control-custom {
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            padding: 15px 20px;
            font-size: 1rem;
            transition: var(--transition);
        }
        
        .form-control-custom:focus {
            border-color: var(--primary-blue);
            box-shadow: 0 0 0 0.25rem rgba(26, 35, 126, 0.15);
        }
        
        /* Exam Interface */
        .question-card {
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: var(--shadow-md);
            margin-bottom: 30px;
            border-left: 6px solid var(--primary-blue);
        }
        
        .option-item {
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 15px;
            cursor: pointer;
            transition: var(--transition);
        }
        
        .option-item:hover {
            background: #e3f2fd;
            border-color: var(--primary-blue-light);
            transform: translateX(10px);
        }
        
        .option-item.selected {
            background: #e3f2fd;
            border-color: var(--primary-blue);
            box-shadow: 0 5px 15px rgba(26, 35, 126, 0.1);
        }
        
        /* Timer */
        .timer-container {
            background: linear-gradient(135deg, var(--primary-blue) 0%, var(--primary-blue-light) 100%);
            color: white;
            border-radius: 50px;
            padding: 15px 30px;
            display: inline-flex;
            align-items: center;
            font-weight: 700;
            font-size: 1.5rem;
            box-shadow: 0 8px 25px rgba(26, 35, 126, 0.25);
        }
        
        /* Results Section */
        .results-card {
            background: white;
            border-radius: 25px;
            padding: 60px 40px;
            box-shadow: var(--shadow-lg);
            text-align: center;
            border-top: 8px solid var(--accent-gold);
        }
        
        .trophy-icon {
            font-size: 80px;
            color: var(--accent-gold);
            margin-bottom: 30px;
            animation: bounce 2s infinite;
        }
        
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
        }
        
        .score-display {
            background: linear-gradient(135deg, var(--primary-blue) 0%, var(--primary-blue-light) 100%);
            color: white;
            display: inline-block;
            padding: 20px 50px;
            border-radius: 20px;
            font-size: 2.5rem;
            font-weight: 900;
            margin: 30px 0;
            box-shadow: 0 10px 30px rgba(26, 35, 126, 0.25);
        }
        
        /* Admin Panel */
        .admin-card {
            background: white;
            border-radius: 20px;
            box-shadow: var(--shadow-md);
            overflow: hidden;
            margin-bottom: 30px;
        }
        
        .admin-header {
            background: linear-gradient(135deg, var(--dark-gray) 0%, #424242 100%);
            color: white;
            padding: 25px;
            font-size: 1.5rem;
            font-weight: 700;
        }
        
        /* Footer */
        .footer {
            background: linear-gradient(135deg, var(--primary-blue) 0%, var(--primary-blue-dark) 100%);
            color: white;
            padding: 60px 0 30px;
            position: relative;
            overflow: hidden;
        }
        
        .footer::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 5px;
            background: linear-gradient(90deg, var(--accent-gold) 0%, var(--accent-red) 100%);
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .hero-title {
                font-size: 2.5rem;
            }
            
            .hero-subtitle {
                font-size: 1.2rem;
            }
            
            .question-card {
                padding: 25px;
            }
        }
        
        /* Loading Spinner */
        .loading-spinner {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            z-index: 9999;
            justify-content: center;
            align-items: center;
        }
        
        .spinner {
            width: 60px;
            height: 60px;
            border: 8px solid #f3f3f3;
            border-top: 8px solid var(--primary-blue);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* Success Message */
        .success-message {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            padding: 40px;
            border-radius: 20px;
            box-shadow: var(--shadow-lg);
            z-index: 10000;
            text-align: center;
            display: none;
            max-width: 500px;
            width: 90%;
            animation: fadeIn 0.5s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translate(-50%, -60%); }
            to { opacity: 1; transform: translate(-50%, -50%); }
        }
    </style>
</head>
<body>
    <!-- Loading Spinner -->
    <div class="loading-spinner" id="loadingSpinner">
        <div class="spinner"></div>
    </div>

    <!-- Success Message Popup -->
    <div class="success-message" id="successMessage">
        <div class="mb-4">
            <i class="fas fa-check-circle fa-4x text-success"></i>
        </div>
        <h3 class="mb-3">Exam Submitted Successfully!</h3>
        <p class="lead">Your score: <span id="popupScore">0</span>/30</p>
        <p class="mb-0">Thank you and best wishes for your result.</p>
    </div>

    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm py-3">
        <div class="container">
            <a class="navbar-brand" href="#">
                <i class="fas fa-fist-raised me-2"></i>Lions <span>Karate</span>
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link" href="#notice">Notice</a></li>
                    <li class="nav-item"><a class="nav-link" href="#registration">Register</a></li>
                    <li class="nav-item"><a class="nav-link" href="#exam-details">Details</a></li>
                    <li class="nav-item"><a class="nav-link" href="#instructions">Instructions</a></li>
                    <li class="nav-item"><button class="btn btn-primary-custom ms-2" id="adminAccessBtn">Admin <i class="fas fa-lock ms-1"></i></button></li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero-section">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-lg-6">
                    <h1 class="hero-title">Belt Examination Portal</h1>
                    <p class="hero-subtitle">Professional, Interactive & Engaging Online Examination System for Young Karate Students</p>
                    <p class="mb-4">Parents can easily register their children and monitor their progress through this advanced platform.</p>
                    <button class="btn btn-gold pulse" onclick="scrollToSection('registration')">
                        <i class="fas fa-user-plus me-2"></i>Register Now
                    </button>
                </div>
                <div class="col-lg-6">
                    <div class="text-center floating-element">
                        <div class="position-relative d-inline-block">
                            <div class="bg-white rounded-circle p-4 shadow-lg" style="width: 300px; height: 300px;">
                                <img src="https://i.postimg.cc/QttRsxyx/lion-Club-logo.png" alt="Lions Karate Club" class="img-fluid" style="max-width: 80%;">
                            </div>
                            <div class="position-absolute top-0 start-0 w-100 h-100 rounded-circle border border-4 border-warning" style="animation: rotate 20s linear infinite;"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Main Content -->
    <main class="py-5" id="mainContent">
        <div class="container">
            <!-- Notice Section -->
            <section id="notice" class="mb-5">
                <div class="row mb-4">
                    <div class="col-12">
                        <h2 class="display-5 fw-bold text-center mb-4" style="color: var(--primary-blue);">
                            <i class="fas fa-bullhorn me-2"></i>Official Examination Notice
                        </h2>
                    </div>
                </div>
                
                <div class="row g-4">
                    <div class="col-md-6">
                        <div class="card-custom h-100">
                            <div class="card-header-custom">
                                <i class="fas fa-globe-americas me-2"></i>English
                            </div>
                            <div class="card-body p-4">
                                <p class="fs-5">Welcome to the Lions Karate Club Pune's official interactive belt examination portal. This platform provides a seamless, engaging, and professional examination experience for our students.</p>
                                <p class="fs-5">Parents can easily register their children and monitor their progress through our advanced system. No external forms or complicated processes required!</p>
                                <div class="alert alert-info mt-3">
                                    <i class="fas fa-info-circle me-2"></i>
                                    <strong>Everything happens on this single page</strong> - Registration, Examination, Results
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="col-md-6">
                        <div class="card-custom h-100">
                            <div class="card-header-custom">
                                <i class="fas fa-globe-asia me-2"></i>‡§π‡§ø‡§Ç‡§¶‡•Ä
                            </div>
                            <div class="card-body p-4">
                                <p class="fs-5 marathi-text">Lions Karate Club Pune ‡§ï‡•á ‡§Ü‡§ß‡§ø‡§ï‡§æ‡§∞‡§ø‡§ï ‡§á‡§Ç‡§ü‡§∞‡•à‡§ï‡•ç‡§ü‡§ø‡§µ ‡§¨‡•á‡§≤‡•ç‡§ü ‡§™‡§∞‡•Ä‡§ï‡•ç‡§∑‡§æ ‡§™‡•ã‡§∞‡•ç‡§ü‡§≤ ‡§Æ‡•á‡§Ç ‡§Ü‡§™‡§ï‡§æ ‡§∏‡•ç‡§µ‡§æ‡§ó‡§§ ‡§π‡•à‡•§ ‡§Ø‡§π ‡§™‡•ç‡§≤‡•á‡§ü‡§´‡§º‡•â‡§∞‡•ç‡§Æ ‡§π‡§Æ‡§æ‡§∞‡•á ‡§µ‡§ø‡§¶‡•ç‡§Ø‡§æ‡§∞‡•ç‡§•‡§ø‡§Ø‡•ã‡§Ç ‡§ï‡•á ‡§≤‡§ø‡§è ‡§è‡§ï ‡§∏‡§π‡§ú, ‡§Ü‡§ï‡§∞‡•ç‡§∑‡§ï ‡§î‡§∞ ‡§™‡•á‡§∂‡•á‡§µ‡§∞ ‡§™‡§∞‡•Ä‡§ï‡•ç‡§∑‡§æ ‡§Ö‡§®‡•Å‡§≠‡§µ ‡§™‡•ç‡§∞‡§¶‡§æ‡§® ‡§ï‡§∞‡§§‡§æ ‡§π‡•à‡•§</p>
                                <p class="fs-5 marathi-text">‡§Ö‡§≠‡§ø‡§≠‡§æ‡§µ‡§ï ‡§Ü‡§∏‡§æ‡§®‡•Ä ‡§∏‡•á ‡§Ö‡§™‡§®‡•á ‡§¨‡§ö‡•ç‡§ö‡•ã‡§Ç ‡§ï‡•ã ‡§™‡§Ç‡§ú‡•Ä‡§ï‡•É‡§§ ‡§ï‡§∞ ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç ‡§î‡§∞ ‡§π‡§Æ‡§æ‡§∞‡•Ä ‡§â‡§®‡•ç‡§®‡§§ ‡§™‡•ç‡§∞‡§£‡§æ‡§≤‡•Ä ‡§ï‡•á ‡§Æ‡§æ‡§ß‡•ç‡§Ø‡§Æ ‡§∏‡•á ‡§â‡§®‡§ï‡•Ä ‡§™‡•ç‡§∞‡§ó‡§§‡§ø ‡§ï‡•Ä ‡§®‡§ø‡§ó‡§∞‡§æ‡§®‡•Ä ‡§ï‡§∞ ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç‡•§ ‡§ï‡§ø‡§∏‡•Ä ‡§¨‡§æ‡§π‡§∞‡•Ä ‡§´‡•â‡§∞‡•ç‡§Æ ‡§Ø‡§æ ‡§ú‡§ü‡§ø‡§≤ ‡§™‡•ç‡§∞‡§ï‡•ç‡§∞‡§ø‡§Ø‡§æ‡§ì‡§Ç ‡§ï‡•Ä ‡§Ü‡§µ‡§∂‡•ç‡§Ø‡§ï‡§§‡§æ ‡§®‡§π‡•Ä‡§Ç ‡§π‡•à!</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Registration Form -->
            <section id="registration" class="my-5 py-4">
                <div class="row mb-4">
                    <div class="col-12">
                        <h2 class="display-5 fw-bold text-center mb-4" style="color: var(--primary-blue);">
                            <i class="fas fa-user-edit me-2"></i>Student Registration
                        </h2>
                    </div>
                </div>
                
                <div class="row justify-content-center">
                    <div class="col-lg-10">
                        <div class="card-custom">
                            <div class="card-header-custom">
                                <i class="fas fa-info-circle me-2"></i>Registration Details
                            </div>
                            <div class="card-body p-5">
                                <form id="registrationForm">
                                    <div class="row g-4">
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label class="form-label fw-bold fs-5 mb-3">
                                                    <i class="fas fa-user text-primary me-2"></i>Student Full Name
                                                </label>
                                                <input type="text" class="form-control form-control-custom" id="studentName" required>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label class="form-label fw-bold fs-5 mb-3">
                                                    <i class="fas fa-school text-primary me-2"></i>School Name
                                                </label>
                                                <input type="text" class="form-control form-control-custom" id="schoolName" required>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label class="form-label fw-bold fs-5 mb-3">
                                                    <i class="fas fa-id-card text-primary me-2"></i>Roll Number
                                                </label>
                                                <input type="text" class="form-control form-control-custom" id="rollNumber" required>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label class="form-label fw-bold fs-5 mb-3">
                                                    <i class="fas fa-birthday-cake text-primary me-2"></i>Age
                                                </label>
                                                <input type="number" class="form-control form-control-custom" id="age" min="5" max="18" required>
                                            </div>
                                        </div>
                                        <div class="col-12">
                                            <div class="form-group">
                                                <label class="form-label fw-bold fs-5 mb-3">
                                                    <i class="fas fa-award text-primary me-2"></i>Current Belt Level
                                                </label>
                                                <select class="form-control form-control-custom" id="beltLevel" required>
                                                    <option value="">Select Current Belt</option>
                                                    <option value="White">White Belt</option>
                                                    <option value="Yellow">Yellow Belt</option>
                                                    <option value="Orange">Orange Belt</option>
                                                    <option value="Green">Green Belt</option>
                                                    <option value="Blue">Blue Belt</option>
                                                    <option value="Purple">Purple Belt</option>
                                                    <option value="Brown">Brown Belt</option>
                                                    <option value="Brown">Brown1+2 Belt</option>
                                                    <option value="Brown">Brown3+4 Belt</option>
                                                    <option value="Black">Black Belt</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="col-12">
                                            <div class="form-check mb-4">
                                                <input class="form-check-input" type="checkbox" id="termsCheck" required>
                                                <label class="form-check-label" for="termsCheck">
                                                    I confirm that all information provided is accurate and I agree to the examination terms
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Exam Details -->
            <section id="exam-details" class="my-5 py-4">
                <div class="row mb-4">
                    <div class="col-12">
                        <h2 class="display-5 fw-bold text-center mb-4" style="color: var(--primary-blue);">
                            <i class="fas fa-clipboard-list me-2"></i>Examination Details
                        </h2>
                    </div>
                </div>
                
                <div class="row g-4">
                    <div class="col-md-4">
                        <div class="card-custom h-100 text-center">
                            <div class="card-body p-4">
                                <div class="rounded-circle bg-primary d-inline-flex align-items-center justify-content-center mb-4" style="width: 80px; height: 80px;">
                                    <i class="fas fa-file-alt fa-2x text-white"></i>
                                </div>
                                <h3 class="h4 mb-3">Exam Structure</h3>
                                <ul class="list-unstyled">
                                    <li class="mb-2"><i class="fas fa-check-circle text-success me-2"></i>15 Multiple Choice Questions</li>
                                    <li class="mb-2"><i class="fas fa-check-circle text-success me-2"></i>2 Marks Per Question</li>
                                    <li class="mb-2"><i class="fas fa-check-circle text-success me-2"></i>Total 30 Marks</li>
                                    <li><i class="fas fa-check-circle text-success me-2"></i>Dual Language (Marathi & English)</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    
                    <div class="col-md-4">
                        <div class="card-custom h-100 text-center">
                            <div class="card-body p-4">
                                <div class="rounded-circle bg-warning d-inline-flex align-items-center justify-content-center mb-4" style="width: 80px; height: 80px;">
                                    <i class="fas fa-clock fa-2x text-white"></i>
                                </div>
                                <h3 class="h4 mb-3">Time & Duration</h3>
                                <ul class="list-unstyled">
                                    <li class="mb-2"><i class="fas fa-hourglass-half text-warning me-2"></i>20 Minutes Total Duration</li>
                                    <li class="mb-2"><i class="fas fa-brain text-warning me-2"></i>Thinking Time Included</li>
                                    <li class="mb-2"><i class="fas fa-bell text-warning me-2"></i>Timer Displayed</li>
                                    <li><i class="fas fa-exclamation-triangle text-warning me-2"></i>Auto-Submit on Timeout</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    
                    <div class="col-md-4">
                        <div class="card-custom h-100 text-center">
                            <div class="card-body p-4">
                                <div class="rounded-circle bg-success d-inline-flex align-items-center justify-content-center mb-4" style="width: 80px; height: 80px;">
                                    <i class="fas fa-trophy fa-2x text-white"></i>
                                </div>
                                <h3 class="h4 mb-3">After Exam</h3>
                                <ul class="list-unstyled">
                                    <li class="mb-2"><i class="fas fa-chart-line text-success me-2"></i>Immediate Score Display</li>
                                    <li class="mb-2"><i class="fas fa-database text-success me-2"></i>Results Saved to Database</li>
                                    <li><i class="fas fa-certificate text-success me-2"></i>Certificate Available (Admin Only)</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Instructions -->
            <section id="instructions" class="my-5 py-4">
                <div class="row mb-4">
                    <div class="col-12">
                        <h2 class="display-5 fw-bold text-center mb-4" style="color: var(--primary-blue);">
                            <i class="fas fa-graduation-cap me-2"></i>Instructions for Students
                        </h2>
                    </div>
                </div>
                
                <div class="row">
                    <div class="col-12">
                        <div class="card-custom">
                            <div class="card-body p-5">
                                <div class="row g-4">
                                    <div class="col-lg-6">
                                        <h3 class="h4 mb-4"><i class="fas fa-globe-americas me-2 text-primary"></i>English Instructions</h3>
                                        <div class="alert alert-info mb-4">
                                            <i class="fas fa-lightbulb me-2"></i>
                                            <strong>Important:</strong> Read all instructions carefully before starting the exam
                                        </div>
                                        <ul class="list-unstyled">
                                            <li class="mb-3"><i class="fas fa-check-circle text-success me-2"></i>Fill all registration details correctly</li>
                                            <li class="mb-3"><i class="fas fa-check-circle text-success me-2"></i>You have 20 minutes to complete 15 questions</li>
                                            <li class="mb-3"><i class="fas fa-check-circle text-success me-2"></i>Each question carries 2 marks (Total 30 marks)</li>
                                            <li class="mb-3"><i class="fas fa-check-circle text-success me-2"></i>Do not refresh or close browser during exam</li>
                                            <li class="mb-3"><i class="fas fa-check-circle text-success me-2"></i>Ensure stable internet connection throughout</li>
                                            <li><i class="fas fa-check-circle text-success me-2"></i>Only one submission is allowed per student</li>
                                        </ul>
                                    </div>
                                    
                                    <div class="col-lg-6">
                                        <h3 class="h4 mb-4"><i class="fas fa-globe-asia me-2 text-primary"></i>‡§π‡§ø‡§Ç‡§¶‡•Ä ‡§®‡§ø‡§∞‡•ç‡§¶‡•á‡§∂</h3>
                                        <div class="alert alert-info mb-4">
                                            <i class="fas fa-lightbulb me-2"></i>
                                            <strong>‡§Æ‡§π‡§§‡•ç‡§µ‡§™‡•Ç‡§∞‡•ç‡§£:</strong> ‡§™‡§∞‡•Ä‡§ï‡•ç‡§∑‡§æ ‡§∂‡•Å‡§∞‡•Ç ‡§ï‡§∞‡§®‡•á ‡§∏‡•á ‡§™‡§π‡§≤‡•á ‡§∏‡§≠‡•Ä ‡§®‡§ø‡§∞‡•ç‡§¶‡•á‡§∂‡•ã‡§Ç ‡§ï‡•ã ‡§ß‡•ç‡§Ø‡§æ‡§® ‡§∏‡•á ‡§™‡§¢‡§º‡•á‡§Ç
                                        </div>
                                        <ul class="list-unstyled marathi-text">
                                            <li class="mb-3"><i class="fas fa-check-circle text-success me-2"></i>‡§∏‡§≠‡•Ä ‡§™‡§Ç‡§ú‡•Ä‡§ï‡§∞‡§£ ‡§µ‡§ø‡§µ‡§∞‡§£ ‡§∏‡§π‡•Ä ‡§≠‡§∞‡•á‡§Ç</li>
                                            <li class="mb-3"><i class="fas fa-check-circle text-success me-2"></i>15 ‡§™‡•ç‡§∞‡§∂‡•ç‡§®‡•ã‡§Ç ‡§ï‡•ã ‡§™‡•Ç‡§∞‡§æ ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§Ü‡§™‡§ï‡•á ‡§™‡§æ‡§∏ 20 ‡§Æ‡§ø‡§®‡§ü ‡§π‡•à‡§Ç</li>
                                            <li class="mb-3"><i class="fas fa-check-circle text-success me-2"></i>‡§™‡•ç‡§∞‡§§‡•ç‡§Ø‡•á‡§ï ‡§™‡•ç‡§∞‡§∂‡•ç‡§® 2 ‡§Ö‡§Ç‡§ï ‡§ï‡§æ ‡§π‡•à (‡§ï‡•Å‡§≤ 30 ‡§Ö‡§Ç‡§ï)</li>
                                            <li class="mb-3"><i class="fas fa-check-circle text-success me-2"></i>‡§™‡§∞‡•Ä‡§ï‡•ç‡§∑‡§æ ‡§ï‡•á ‡§¶‡•å‡§∞‡§æ‡§® ‡§¨‡•ç‡§∞‡§æ‡§â‡§ú‡§º‡§∞ ‡§ï‡•ã ‡§∞‡•Ä‡§´‡•ç‡§∞‡•á‡§∂ ‡§Ø‡§æ ‡§¨‡§Ç‡§¶ ‡§® ‡§ï‡§∞‡•á‡§Ç</li>
                                            <li class="mb-3"><i class="fas fa-check-circle text-success me-2"></i>‡§∏‡§Ç‡§™‡•Ç‡§∞‡•ç‡§£ ‡§∏‡§Æ‡§Ø ‡§Æ‡•á‡§Ç ‡§∏‡•ç‡§•‡§ø‡§∞ ‡§á‡§Ç‡§ü‡§∞‡§®‡•á‡§ü ‡§ï‡§®‡•á‡§ï‡•ç‡§∂‡§® ‡§∏‡•Å‡§®‡§ø‡§∂‡•ç‡§ö‡§ø‡§§ ‡§ï‡§∞‡•á‡§Ç</li>
                                            <li><i class="fas fa-check-circle text-success me-2"></i>‡§™‡•ç‡§∞‡§§‡•ç‡§Ø‡•á‡§ï ‡§õ‡§æ‡§§‡•ç‡§∞ ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ï‡•á‡§µ‡§≤ ‡§è‡§ï ‡§∏‡§¨‡§Æ‡§ø‡§∂‡§® ‡§ï‡•Ä ‡§Ö‡§®‡•Å‡§Æ‡§§‡§ø ‡§π‡•à</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Start Exam Button -->
            <section class="my-5 py-4 text-center">
                <div class="row">
                    <div class="col-12">
                        <button class="btn btn-primary-custom btn-lg mb-4" id="startExamBtn" style="padding: 20px 60px; font-size: 1.5rem;">
                            <i class="fas fa-play-circle me-2"></i>Start Interactive Examination
                        </button>
                        <p class="lead">Complete registration form above and click to begin your official belt examination!</p>
                        
                        <div class="alert alert-success mt-5" style="background: linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%); border-left: 6px solid #4caf50;">
                            <h4 class="alert-heading"><i class="fas fa-bolt me-2"></i>Complete Examination System</h4>
                            <p class="mb-0">Registration ‚Üí 15 Questions ‚Üí Automatic Scoring ‚Üí Results Saved to Admin Panel</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Exam Interface (Hidden Initially) -->
            <div id="examInterface" style="display: none;">
                <div class="row mb-4">
                    <div class="col-12">
                        <div class="d-flex justify-content-between align-items-center">
                            <div class="timer-container">
                                <i class="fas fa-clock me-2"></i> Time Left: <span id="timerDisplay">20:00</span>
                            </div>
                            <div class="fs-4 fw-bold">
                                Question: <span id="currentQuestionNum">1</span>/<span id="totalQuestions">15</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div id="questionsContainer">
                    <!-- Questions will be loaded here -->
                </div>
                
                <div class="row mt-4">
                    <div class="col-12">
                        <div class="d-flex justify-content-between">
                            <button class="btn btn-secondary" id="prevBtn">
                                <i class="fas fa-arrow-left me-2"></i>Previous
                            </button>
                            <button class="btn btn-primary-custom" id="nextBtn">
                                Next <i class="fas fa-arrow-right ms-2"></i>
                            </button>
                            <button class="btn btn-success" id="submitExamBtn" style="display: none;">
                                <i class="fas fa-paper-plane me-2"></i>Submit Exam
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Results Section (Hidden Initially) -->
            <div id="resultsSection" style="display: none;">
                <div class="row justify-content-center">
                    <div class="col-lg-8">
                        <div class="results-card">
                            <div class="trophy-icon">
                                <i class="fas fa-trophy"></i>
                            </div>
                            <h1 class="display-4 fw-bold mb-4" style="color: var(--primary-blue);">Examination Completed!</h1>
                            
                            <div class="score-display">
                                Score: <span id="finalScore">0</span>/30
                            </div>
                            
                            <div class="card-custom mb-4">
                                <div class="card-body">
                                    <h3 class="h4 mb-4"><i class="fas fa-user-graduate me-2 text-primary"></i>Student Information</h3>
                                    <div class="row">
                                        <div class="col-md-6 mb-3">
                                            <strong>Name:</strong> <span id="resultName">-</span>
                                        </div>
                                        <div class="col-md-6 mb-3">
                                            <strong>School:</strong> <span id="resultSchool">-</span>
                                        </div>
                                        <div class="col-md-6 mb-3">
                                            <strong>Roll Number:</strong> <span id="resultRoll">-</span>
                                        </div>
                                        <div class="col-md-6 mb-3">
                                            <strong>Belt Level:</strong> <span id="resultBelt">-</span>
                                        </div>
                                        <div class="col-md-6 mb-3">
                                            <strong>Date:</strong> <span id="resultDate">-</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Success message stays visible, no certificate download for students -->
                            <div class="alert alert-success mb-4">
                                <i class="fas fa-check-circle me-2"></i>
                                <strong>Exam submitted successfully.</strong> Thank you and best wishes for your result.
                            </div>
                            
                            <!-- Only retry button, no certificate download -->
                            <div class="mt-4">
                                <button class="btn btn-outline-primary" id="retryExamBtn">
                                    <i class="fas fa-redo me-2"></i>Try Again
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Admin Login Modal -->
    <div class="modal fade" id="adminLoginModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header" style="background: linear-gradient(135deg, var(--dark-gray) 0%, #424242 100%); color: white;">
                    <h5 class="modal-title"><i class="fas fa-user-shield me-2"></i>Admin Access</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body p-4">
                    <div class="text-center mb-4">
                        <div class="rounded-circle bg-dark d-inline-flex align-items-center justify-content-center mb-3" style="width: 80px; height: 80px;">
                            <i class="fas fa-lock fa-2x text-white"></i>
                        </div>
                        <h4>Admin Authentication</h4>
                        <p>Enter password to access student records</p>
                    </div>
                    
                    <div class="mb-4">
                        <input type="password" class="form-control form-control-custom" id="adminPassword" placeholder="Enter admin password">
                        <div class="text-danger mt-2" id="passwordError" style="display: none;">
                            <i class="fas fa-exclamation-circle me-1"></i> Incorrect password!
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary-custom" id="adminLoginBtn">Login</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Admin Dashboard (Hidden Initially) -->
    <div id="adminDashboard" style="display: none;">
        <div class="container py-5">
            <div class="row mb-4">
                <div class="col-12">
                    <div class="d-flex justify-content-between align-items-center">
                        <h2 class="display-5 fw-bold" style="color: var(--dark-gray);">
                            <i class="fas fa-chart-line me-2"></i>Admin Dashboard
                        </h2>
                        <button class="btn btn-outline-danger" id="logoutAdminBtn">
                            <i class="fas fa-sign-out-alt me-2"></i>Logout
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Stats Cards -->
            <div class="row g-4 mb-5">
                <div class="col-md-3 col-6">
                    <div class="admin-card">
                        <div class="admin-header">
                            <i class="fas fa-users me-2"></i>Total Students
                        </div>
                        <div class="p-4 text-center">
                            <h3 class="display-4 fw-bold" id="totalStudentsStat">0</h3>
                        </div>
                    </div>
                </div>
                <div class="col-md-3 col-6">
                    <div class="admin-card">
                        <div class="admin-header">
                            <i class="fas fa-chart-bar me-2"></i>Avg Score
                        </div>
                        <div class="p-4 text-center">
                            <h3 class="display-4 fw-bold" id="avgScoreStat">0</h3>
                        </div>
                    </div>
                </div>
                <div class="col-md-3 col-6">
                    <div class="admin-card">
                        <div class="admin-header">
                            <i class="fas fa-calendar-day me-2"></i>Today's Exams
                        </div>
                        <div class="p-4 text-center">
                            <h3 class="display-4 fw-bold" id="todayExamsStat">0</h3>
                        </div>
                    </div>
                </div>
                <div class="col-md-3 col-6">
                    <div class="admin-card">
                        <div class="admin-header">
                            <i class="fas fa-trophy me-2"></i>Top Score
                        </div>
                        <div class="p-4 text-center">
                            <h3 class="display-4 fw-bold" id="topScoreStat">0</h3>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Records Table -->
            <div class="admin-card">
                <div class="admin-header d-flex justify-content-between align-items-center">
                    <div>
                        <i class="fas fa-database me-2"></i>Student Records
                    </div>
                    <div>
                        <button class="btn btn-sm btn-light me-2" id="refreshDataBtn">
                            <i class="fas fa-sync-alt me-1"></i> Refresh
                        </button>
                        <button class="btn btn-sm btn-light" id="exportDataBtn">
                            <i class="fas fa-download me-1"></i> Export CSV
                        </button>
                    </div>
                </div>
                <div class="p-0">
                    <div class="table-responsive">
                        <table class="table table-hover mb-0">
                            <thead class="table-light">
                                <tr>
                                    <th>#</th>
                                    <th>Student Name</th>
                                    <th>School</th>
                                    <th>Roll No</th>
                                    <th>Age</th>
                                    <th>Belt</th>
                                    <th>Score</th>
                                    <th>Date</th>
                                    <th>Certificate</th>
                                </tr>
                            </thead>
                            <tbody id="recordsTableBody">
                                <tr>
                                    <td colspan="9" class="text-center py-5">
                                        <div class="text-muted">
                                            <i class="fas fa-database fa-3x mb-3"></i>
                                            <p>No student records found</p>
                                            <small>Records will appear here after students complete exams</small>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer" id="mainFooter">
        <div class="container">
            <div class="row">
                <div class="col-lg-4 mb-4">
                    <h3 class="fw-bold mb-3">Lions Karate Club Pune</h3>
                    <p>Professional karate training with modern examination systems for students.</p>
                    <div class="mt-4">
                        <h5><i class="fas fa-phone-alt me-2"></i>Contact</h5>
                        <p class="fs-5 fw-bold">üìû 9049688172</p>
                        <p>WhatsApp/Call for examination queries</p>
                    </div>
                </div>
                
                <div class="col-lg-4 mb-4">
                    <h5 class="fw-bold mb-3">Quick Links</h5>
                    <ul class="list-unstyled">
                        <li class="mb-2"><a href="#notice" class="text-light text-decoration-none"><i class="fas fa-chevron-right me-2"></i>Examination Notice</a></li>
                        <li class="mb-2"><a href="#registration" class="text-light text-decoration-none"><i class="fas fa-chevron-right me-2"></i>Student Registration</a></li>
                        <li class="mb-2"><a href="#exam-details" class="text-light text-decoration-none"><i class="fas fa-chevron-right me-2"></i>Exam Details</a></li>
                        <li><a href="#instructions" class="text-light text-decoration-none"><i class="fas fa-chevron-right me-2"></i>Instructions</a></li>
                    </ul>
                </div>
                
                <div class="col-lg-4 mb-4">
                    <h5 class="fw-bold mb-3">About System</h5>
                    <p>This is a complete end-to-end examination system developed for Lions Karate Club Pune. It includes registration, 15 dual-language questions, automatic scoring, and admin panel.</p>
                    <div class="mt-4">
                        <p class="mb-0"><i class="fas fa-copyright me-2"></i>2023 Lions Karate Club Pune. All rights reserved.</p>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <script>
        // ==================== GLOBAL VARIABLES ====================
        const ADMIN_PASSWORD = "Lions2023";
        let currentQuestion = 1;
        const totalQuestions = 15;
        let examTime = 20 * 60; // 20 minutes in seconds
        let timerInterval;
        let studentAnswers = {};
        let studentData = {};
        let examId = '';
        let examScore = 0;
        let isAdminLoggedIn = false;
        
        // 15 Questions with BOTH Marathi and English
        const questions = [
            {
                id: 1,
                marathi: "‡§ï‡§∞‡§æ‡§ü‡•á‡§Æ‡§ß‡•ç‡§Ø‡•á ‡§™‡•Å‡§¢‡•á ‡§ú‡§æ‡§£‡•ç‡§Ø‡§æ‡§∏‡§æ‡§†‡•Ä ‡§ï‡§æ‡§Ø ‡§Ü‡§µ‡§∂‡•ç‡§Ø‡§ï ‡§Ü‡§π‡•á?",
                english: "What is required to progress in Karate?",
                options: [
                    { id: "A", marathi: "‡§´‡§ï‡•ç‡§§ ‡§ï‡•ç‡§≤‡§æ‡§∏ ‡§Ö‡§ü‡•á‡§Ç‡§° ‡§ï‡§∞‡§£‡•á", english: "Just attending classes" },
                    { id: "B", marathi: "‡§Æ‡§ø‡§§‡•ç‡§∞‡§æ‡§Ç‡§∏‡•ã‡§¨‡§§ ‡§∏‡§∞‡§æ‡§µ", english: "Practicing with friends" },
                    { id: "C", marathi: "‡§¨‡•á‡§≤‡•ç‡§ü ‡§™‡§∞‡•Ä‡§ï‡•ç‡§∑‡§æ", english: "Belt examination" },
                    { id: "D", marathi: "‡§∏‡•Å‡§ü‡•ç‡§ü‡•Ä ‡§ò‡•á‡§£‡•á", english: "Taking holidays" }
                ],
                correct: "C"
            },
            {
                id: 2,
                marathi: "‡§¨‡•á‡§≤‡•ç‡§ü ‡§™‡§∞‡•Ä‡§ï‡•ç‡§∑‡§æ ‡§® ‡§¶‡§ø‡§≤‡•ç‡§Ø‡§æ‡§∏ ‡§ï‡§æ‡§Ø ‡§π‡•ã‡§§‡•á?",
                english: "What happens if you don't give belt exam?",
                options: [
                    { id: "A", marathi: "‡§≤‡§ó‡•á‡§ö ‡§™‡•Å‡§¢‡•Ä‡§≤ ‡§¨‡•á‡§≤‡•ç‡§ü ‡§Æ‡§ø‡§≥‡§§‡•ã", english: "Get next belt immediately" },
                    { id: "B", marathi: "‡§ï‡§æ‡§π‡•Ä ‡§´‡§∞‡§ï ‡§™‡§°‡§§ ‡§®‡§æ‡§π‡•Ä", english: "No difference" },
                    { id: "C", marathi: "‡§™‡•ç‡§∞‡§ó‡§§‡•Ä ‡§•‡§æ‡§Ç‡§¨‡§§‡•á", english: "Progress stops" },
                    { id: "D", marathi: "‡§®‡§µ‡•Ä‡§® ‡§ï‡•ç‡§≤‡§æ‡§∏ ‡§Æ‡§ø‡§≥‡§§‡•ã", english: "Get new class" }
                ],
                correct: "C"
            },
            {
                id: 3,
                marathi: "‡§´‡§ï‡•ç‡§§ ‡§ï‡•ç‡§≤‡§æ‡§∏ ‡§Ö‡§ü‡•á‡§Ç‡§° ‡§ï‡§∞‡§£‡•á ‡§™‡•Å‡§∞‡•á‡§∏‡•á ‡§Ü‡§π‡•á ‡§ï‡§æ?",
                english: "Is just attending classes enough?",
                options: [
                    { id: "A", marathi: "‡§π‡•ã", english: "Yes" },
                    { id: "B", marathi: "‡§®‡§æ‡§π‡•Ä", english: "No" },
                    { id: "C", marathi: "‡§ï‡§ß‡•Ä ‡§ï‡§ß‡•Ä", english: "Sometimes" },
                    { id: "D", marathi: "‡§Æ‡§æ‡§π‡•Ä‡§§ ‡§®‡§æ‡§π‡•Ä", english: "Don't know" }
                ],
                correct: "B"
            },
            {
                id: 4,
                marathi: "‡§¨‡•á‡§≤‡•ç‡§ü ‡§™‡§∞‡•Ä‡§ï‡•ç‡§∑‡§æ ‡§ï‡§æ ‡§ò‡•á‡§§‡§≤‡•Ä ‡§ú‡§æ‡§§‡•á?",
                english: "Why is belt exam conducted?",
                options: [
                    { id: "A", marathi: "‡§´‡•Ä ‡§µ‡§æ‡§¢‡§µ‡§£‡•ç‡§Ø‡§æ‡§∏‡§æ‡§†‡•Ä", english: "To increase fees" },
                    { id: "B", marathi: "‡§µ‡•á‡§≥ ‡§µ‡§æ‡§Ø‡§æ ‡§ò‡§æ‡§≤‡§µ‡§£‡•ç‡§Ø‡§æ‡§∏‡§æ‡§†‡•Ä", english: "To waste time" },
                    { id: "C", marathi: "‡§µ‡§ø‡§¶‡•ç‡§Ø‡§æ‡§∞‡•ç‡§•‡•ç‡§Ø‡§æ‡§ö‡•Ä ‡§™‡§æ‡§§‡§≥‡•Ä ‡§§‡§™‡§æ‡§∏‡§£‡•ç‡§Ø‡§æ‡§∏‡§æ‡§†‡•Ä", english: "To check student's level" },
                    { id: "D", marathi: "‡§ï‡•ç‡§≤‡§æ‡§∏ ‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡§£‡•ç‡§Ø‡§æ‡§∏‡§æ‡§†‡•Ä", english: "To close classes" }
                ],
                correct: "C"
            },
            {
                id: 5,
                marathi: "‡§¨‡•á‡§≤‡•ç‡§ü ‡§™‡§∞‡•Ä‡§ï‡•ç‡§∑‡§æ ‡§µ‡•á‡§≥‡•á‡§µ‡§∞ ‡§¶‡§ø‡§≤‡•Ä ‡§®‡§æ‡§π‡•Ä ‡§§‡§∞ ‡§ï‡§æ‡§Ø ‡§®‡•Å‡§ï‡§∏‡§æ‡§® ‡§π‡•ã‡§§‡•á?",
                english: "What is the loss if belt exam is not given on time?",
                options: [
                    { id: "A", marathi: "‡§ï‡§æ‡§π‡•Ä‡§ö ‡§®‡§æ‡§π‡•Ä", english: "Nothing" },
                    { id: "B", marathi: "‡§™‡•Å‡§¢‡•Ä‡§≤ 6 ‡§Æ‡§π‡§ø‡§®‡•á ‡§™‡•ç‡§∞‡§ó‡§§‡•Ä ‡§π‡•ã‡§§ ‡§®‡§æ‡§π‡•Ä", english: "No progress for next 6 months" },
                    { id: "C", marathi: "‡§®‡§µ‡•Ä‡§® ‡§¨‡•á‡§≤‡•ç‡§ü ‡§Æ‡§ø‡§≥‡§§‡•ã", english: "Get new belt" },
                    { id: "D", marathi: "‡§∏‡•Å‡§ü‡•ç‡§ü‡•Ä ‡§Æ‡§ø‡§≥‡§§‡•á", english: "Get holiday" }
                ],
                correct: "B"
            },
            {
                id: 6,
                marathi: "‡§ï‡§∞‡§æ‡§ü‡•á ‡§™‡•ç‡§∞‡§∂‡§ø‡§ï‡•ç‡§∑‡§£‡§æ‡§§ ‡§∂‡§ø‡§∏‡•ç‡§§ ‡§ï‡§æ ‡§Æ‡§π‡§§‡•ç‡§µ‡§æ‡§ö‡•Ä ‡§Ü‡§π‡•á?",
                english: "Why is discipline important in karate training?",
                options: [
                    { id: "A", marathi: "‡§∂‡§ø‡§ï‡•ç‡§∑‡§æ ‡§¶‡•á‡§£‡•ç‡§Ø‡§æ‡§∏‡§æ‡§†‡•Ä", english: "To punish" },
                    { id: "B", marathi: "‡§µ‡§ø‡§¶‡•ç‡§Ø‡§æ‡§∞‡•ç‡§•‡•ç‡§Ø‡§æ‡§ö‡§æ ‡§µ‡§ø‡§ï‡§æ‡§∏ ‡§π‡•ã‡§£‡•ç‡§Ø‡§æ‡§∏‡§æ‡§†‡•Ä", english: "For student's development" },
                    { id: "C", marathi: "‡§≠‡•Ä‡§§‡•Ä ‡§®‡§ø‡§∞‡•ç‡§Æ‡§æ‡§£ ‡§ï‡§∞‡§£‡•ç‡§Ø‡§æ‡§∏‡§æ‡§†‡•Ä", english: "To create fear" },
                    { id: "D", marathi: "‡§µ‡•á‡§≥ ‡§ò‡§æ‡§≤‡§µ‡§£‡•ç‡§Ø‡§æ‡§∏‡§æ‡§†‡•Ä", english: "To waste time" }
                ],
                correct: "B"
            },
            {
                id: 7,
                marathi: "‡§¨‡•á‡§≤‡•ç‡§ü ‡§™‡§∞‡•Ä‡§ï‡•ç‡§∑‡§æ ‡§ï‡•ã‡§£‡§æ‡§∏‡§æ‡§†‡•Ä ‡§Ö‡§®‡§ø‡§µ‡§æ‡§∞‡•ç‡§Ø ‡§Ü‡§π‡•á?",
                english: "Who is belt exam compulsory for?",
                options: [
                    { id: "A", marathi: "‡§´‡§ï‡•ç‡§§ ‡§®‡§µ‡•Ä‡§® ‡§µ‡§ø‡§¶‡•ç‡§Ø‡§æ‡§∞‡•ç‡§•‡•ç‡§Ø‡§æ‡§Ç‡§∏‡§æ‡§†‡•Ä", english: "Only for new students" },
                    { id: "B", marathi: "‡§´‡§ï‡•ç‡§§ ‡§∏‡•Ä‡§®‡§ø‡§Ø‡§∞‡§∏‡§æ‡§†‡•Ä", english: "Only for seniors" },
                    { id: "C", marathi: "‡§∏‡§∞‡•ç‡§µ ‡§µ‡§ø‡§¶‡•ç‡§Ø‡§æ‡§∞‡•ç‡§•‡•ç‡§Ø‡§æ‡§Ç‡§∏‡§æ‡§†‡•Ä", english: "For all students" },
                    { id: "D", marathi: "‡§´‡§ï‡•ç‡§§ ‡§∏‡•ç‡§™‡§∞‡•ç‡§ß‡§ï‡§æ‡§Ç‡§∏‡§æ‡§†‡•Ä", english: "Only for competitors" }
                ],
                correct: "C"
            },
            {
                id: 8,
                marathi: "‡§¨‡•á‡§≤‡•ç‡§ü ‡§™‡§∞‡•Ä‡§ï‡•ç‡§∑‡§æ ‡§¶‡§ø‡§≤‡•ç‡§Ø‡§æ‡§µ‡§∞ ‡§ï‡§æ‡§Ø ‡§Æ‡§ø‡§≥‡§§‡•á?",
                english: "What do you get after giving belt exam?",
                options: [
                    { id: "A", marathi: "‡§´‡§ï‡•ç‡§§ ‡§∏‡§∞‡•ç‡§ü‡§ø‡§´‡§ø‡§ï‡•á‡§ü", english: "Only certificate" },
                    { id: "B", marathi: "‡§®‡§µ‡•Ä‡§® ‡§ó‡§£‡§µ‡•á‡§∂", english: "New uniform" },
                    { id: "C", marathi: "‡§™‡•Å‡§¢‡•Ä‡§≤ ‡§¨‡•á‡§≤‡•ç‡§ü ‡§Ü‡§£‡§ø ‡§™‡•ç‡§∞‡§ó‡§§‡•Ä", english: "Next belt and progress" },
                    { id: "D", marathi: "‡§∏‡•Å‡§ü‡•ç‡§ü‡•Ä", english: "Holiday" }
                ],
                correct: "C"
            },
            {
                id: 9,
                marathi: "‡§™‡§æ‡§≤‡§ï‡§æ‡§Ç‡§®‡•Ä ‡§¨‡•á‡§≤‡•ç‡§ü ‡§™‡§∞‡•Ä‡§ï‡•ç‡§∑‡•á‡§ï‡§°‡•á ‡§≤‡§ï‡•ç‡§∑ ‡§ï‡§æ ‡§¶‡•ç‡§Ø‡§æ‡§µ‡•á?",
                english: "Why should parents pay attention to belt exam?",
                options: [
                    { id: "A", marathi: "‡§´‡•Ä ‡§ï‡§Æ‡•Ä ‡§ï‡§∞‡§£‡•ç‡§Ø‡§æ‡§∏‡§æ‡§†‡•Ä", english: "To reduce fees" },
                    { id: "B", marathi: "‡§Æ‡•Å‡§≤‡§æ‡§ö‡•ç‡§Ø‡§æ ‡§™‡•ç‡§∞‡§ó‡§§‡•Ä‡§∏‡§æ‡§†‡•Ä", english: "For child's progress" },
                    { id: "C", marathi: "‡§ï‡•ç‡§≤‡§æ‡§∏ ‡§¨‡§¶‡§≤‡§£‡•ç‡§Ø‡§æ‡§∏‡§æ‡§†‡•Ä", english: "To change class" },
                    { id: "D", marathi: "‡§ó‡§∞‡§ú ‡§®‡§æ‡§π‡•Ä", english: "Not needed" }
                ],
                correct: "B"
            },
            {
                id: 10,
                marathi: "‡§¨‡•á‡§≤‡•ç‡§ü ‡§™‡§∞‡•Ä‡§ï‡•ç‡§∑‡§æ ‡§Æ‡•ç‡§π‡§£‡§ú‡•á ‡§ï‡§æ‡§Ø?",
                english: "What is belt exam?",
                options: [
                    { id: "A", marathi: "‡§ñ‡•á‡§≥", english: "Game" },
                    { id: "B", marathi: "‡§∏‡•ç‡§™‡§∞‡•ç‡§ß‡§æ", english: "Competition" },
                    { id: "C", marathi: "‡§™‡•ç‡§∞‡§ó‡§§‡•Ä‡§ö‡•Ä ‡§ö‡§æ‡§ö‡§£‡•Ä", english: "Test of progress" },
                    { id: "D", marathi: "‡§∏‡•Å‡§ü‡•ç‡§ü‡•Ä", english: "Holiday" }
                ],
                correct: "C"
            },
            {
                id: 11,
                marathi: "‡§ï‡§∞‡§æ‡§ü‡•á ‡§Æ‡§ß‡•ç‡§Ø‡•á ‡§¨‡•á‡§≤‡•ç‡§ü‡§ö‡§æ ‡§Ö‡§∞‡•ç‡§• ‡§ï‡§æ‡§Ø?",
                english: "What does belt mean in karate?",
                options: [
                    { id: "A", marathi: "‡§´‡•Ö‡§∂‡§®", english: "Fashion" },
                    { id: "B", marathi: "‡§∞‡§Ç‡§ó", english: "Color" },
                    { id: "C", marathi: "‡§µ‡§ø‡§¶‡•ç‡§Ø‡§æ‡§∞‡•ç‡§•‡•ç‡§Ø‡§æ‡§ö‡•Ä ‡§™‡§æ‡§§‡§≥‡•Ä", english: "Student's level" },
                    { id: "D", marathi: "‡§ñ‡•á‡§≥", english: "Game" }
                ],
                correct: "C"
            },
            {
                id: 12,
                marathi: "‡§®‡§ø‡§Ø‡§Æ‡§ø‡§§ ‡§∏‡§∞‡§æ‡§µ‡§æ‡§ö‡§æ ‡§´‡§æ‡§Ø‡§¶‡§æ ‡§ï‡§æ‡§Ø?",
                english: "What is the benefit of regular practice?",
                options: [
                    { id: "A", marathi: "‡§•‡§ï‡§µ‡§æ", english: "Tiredness" },
                    { id: "B", marathi: "‡§ï‡§Ç‡§ü‡§æ‡§≥‡§æ", english: "Boredom" },
                    { id: "C", marathi: "‡§ö‡§æ‡§Ç‡§ó‡§≤‡•Ä ‡§ï‡§æ‡§Æ‡§ó‡§ø‡§∞‡•Ä", english: "Good performance" },
                    { id: "D", marathi: "‡§ï‡§æ‡§π‡•Ä‡§ö ‡§®‡§æ‡§π‡•Ä", english: "Nothing" }
                ],
                correct: "C"
            },
            {
                id: 13,
                marathi: "‡§¨‡•á‡§≤‡•ç‡§ü ‡§™‡§∞‡•Ä‡§ï‡•ç‡§∑‡§æ ‡§®‡•ã‡§Ç‡§¶‡§£‡•Ä ‡§ï‡§æ ‡§Ü‡§µ‡§∂‡•ç‡§Ø‡§ï ‡§Ü‡§π‡•á?",
                english: "Why is belt exam registration necessary?",
                options: [
                    { id: "A", marathi: "‡§®‡§æ‡§µ ‡§≤‡§ø‡§π‡§ø‡§£‡•ç‡§Ø‡§æ‡§∏‡§æ‡§†‡•Ä", english: "To write name" },
                    { id: "B", marathi: "‡§™‡§∞‡•Ä‡§ï‡•ç‡§∑‡•á‡§§ ‡§∏‡§π‡§≠‡§æ‡§ó‡•Ä ‡§π‡•ã‡§£‡•ç‡§Ø‡§æ‡§∏‡§æ‡§†‡•Ä", english: "To participate in exam" },
                    { id: "C", marathi: "‡§ï‡•ç‡§≤‡§æ‡§∏ ‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡§£‡•ç‡§Ø‡§æ‡§∏‡§æ‡§†‡•Ä", english: "To close class" },
                    { id: "D", marathi: "‡§µ‡•á‡§≥ ‡§ò‡§æ‡§≤‡§µ‡§£‡•ç‡§Ø‡§æ‡§∏‡§æ‡§†‡•Ä", english: "To waste time" }
                ],
                correct: "B"
            },
            {
                id: 14,
                marathi: "‡§ï‡§∞‡§æ‡§ü‡•á ‡§™‡•ç‡§∞‡§∂‡§ø‡§ï‡•ç‡§∑‡§£ ‡§Æ‡•Å‡§≤‡§æ‡§Ç‡§∏‡§æ‡§†‡•Ä ‡§ï‡§∂‡§æ‡§∏‡§æ‡§†‡•Ä ‡§â‡§™‡§Ø‡•Å‡§ï‡•ç‡§§ ‡§Ü‡§π‡•á?",
                english: "Why is karate training useful for children?",
                options: [
                    { id: "A", marathi: "‡§ü‡•Ä‡§µ‡•ç‡§π‡•Ä ‡§™‡§æ‡§π‡§£‡•ç‡§Ø‡§æ‡§∏‡§æ‡§†‡•Ä", english: "To watch TV" },
                    { id: "B", marathi: "‡§∂‡§ø‡§∏‡•ç‡§§ ‡§µ ‡§Ü‡§§‡•ç‡§Æ‡§µ‡§ø‡§∂‡•ç‡§µ‡§æ‡§∏‡§æ‡§∏‡§æ‡§†‡•Ä", english: "For discipline and confidence" },
                    { id: "C", marathi: "‡§Æ‡•ã‡§¨‡§æ‡§à‡§≤‡§∏‡§æ‡§†‡•Ä", english: "For mobile" },
                    { id: "D", marathi: "‡§∏‡•Å‡§ü‡•ç‡§ü‡•Ä‡§∏‡§æ‡§†‡•Ä", english: "For holiday" }
                ],
                correct: "B"
            },
            {
                id: 15,
                marathi: "‡§™‡•Å‡§¢‡•Ä‡§≤ ‡§¨‡•á‡§≤‡•ç‡§ü ‡§ï‡§∏‡§æ ‡§Æ‡§ø‡§≥‡§§‡•ã?",
                english: "How do you get next belt?",
                options: [
                    { id: "A", marathi: "‡§µ‡•á‡§≥‡•á‡§®‡•Å‡§∏‡§æ‡§∞", english: "According to time" },
                    { id: "B", marathi: "‡§ì‡§≥‡§ñ‡•Ä‡§®‡•á", english: "By connections" },
                    { id: "C", marathi: "‡§¨‡•á‡§≤‡•ç‡§ü ‡§™‡§∞‡•Ä‡§ï‡•ç‡§∑‡§æ ‡§™‡§æ‡§∏ ‡§ï‡•á‡§≤‡•ç‡§Ø‡§æ‡§µ‡§∞", english: "After passing belt exam" },
                    { id: "D", marathi: "‡§´‡•Ä ‡§≠‡§∞‡§≤‡•ç‡§Ø‡§æ‡§µ‡§∞", english: "After paying fees" }
                ],
                correct: "C"
            }
        ];
        
        // ==================== DOM ELEMENTS ====================
        const loadingSpinner = document.getElementById('loadingSpinner');
        const successMessage = document.getElementById('successMessage');
        const popupScore = document.getElementById('popupScore');
        const startExamBtn = document.getElementById('startExamBtn');
        const examInterface = document.getElementById('examInterface');
        const resultsSection = document.getElementById('resultsSection');
        const questionsContainer = document.getElementById('questionsContainer');
        const timerDisplay = document.getElementById('timerDisplay');
        const currentQuestionNum = document.getElementById('currentQuestionNum');
        const prevBtn = document.getElementById('prevBtn');
        const nextBtn = document.getElementById('nextBtn');
        const submitExamBtn = document.getElementById('submitExamBtn');
        const finalScore = document.getElementById('finalScore');
        const retryExamBtn = document.getElementById('retryExamBtn');
        const adminAccessBtn = document.getElementById('adminAccessBtn');
        const adminLoginModal = new bootstrap.Modal(document.getElementById('adminLoginModal'));
        const adminPassword = document.getElementById('adminPassword');
        const passwordError = document.getElementById('passwordError');
        const adminLoginBtn = document.getElementById('adminLoginBtn');
        const adminDashboard = document.getElementById('adminDashboard');
        const logoutAdminBtn = document.getElementById('logoutAdminBtn');
        const exportDataBtn = document.getElementById('exportDataBtn');
        const refreshDataBtn = document.getElementById('refreshDataBtn');
        const recordsTableBody = document.getElementById('recordsTableBody');
        const totalStudentsStat = document.getElementById('totalStudentsStat');
        const avgScoreStat = document.getElementById('avgScoreStat');
        const todayExamsStat = document.getElementById('todayExamsStat');
        const topScoreStat = document.getElementById('topScoreStat');
        const mainContent = document.getElementById('mainContent');
        const mainFooter = document.getElementById('mainFooter');
        
        // ==================== HELPER FUNCTIONS ====================
        
        function showLoading() {
            loadingSpinner.style.display = 'flex';
        }
        
        function hideLoading() {
            loadingSpinner.style.display = 'none';
        }
        
        function showSuccessMessage(score) {
            popupScore.textContent = score;
            successMessage.style.display = 'block';
            // Hide after 4 seconds
            setTimeout(() => {
                successMessage.style.display = 'none';
            }, 4000);
        }
        
        function scrollToSection(sectionId) {
            document.getElementById(sectionId).scrollIntoView({ behavior: 'smooth' });
        }
        
        function showNotification(message, type = 'success') {
            const alertClass = type === 'success' ? 'alert-success' : 'alert-danger';
            const icon = type === 'success' ? 'fa-check-circle' : 'fa-exclamation-circle';
            
            const notification = document.createElement('div');
            notification.className = `alert ${alertClass} alert-dismissible fade show position-fixed`;
            notification.style.cssText = 'top: 20px; right: 20px; z-index: 9999; max-width: 400px;';
            notification.innerHTML = `
                <i class="fas ${icon} me-2"></i>
                ${message}
                <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
            `;
            document.body.appendChild(notification);
            
            setTimeout(() => {
                if (notification.parentNode) {
                    notification.remove();
                }
            }, 5000);
        }
        
        // ==================== EXAM FUNCTIONS ====================
        
        // Start Exam
        startExamBtn.addEventListener('click', function() {
            if (!validateRegistrationForm()) {
                showNotification('Please complete the registration form with all details before starting the exam.', 'danger');
                scrollToSection('registration');
                return;
            }
            
            // Collect student data
            collectStudentData();
            
            // Generate unique exam ID
            examId = 'LKC-' + Date.now() + '-' + Math.floor(Math.random() * 1000);
            
            // Hide main sections
            document.querySelectorAll('section').forEach(section => {
                section.style.display = 'none';
            });
            
            // Show exam interface
            examInterface.style.display = 'block';
            
            // Load questions
            loadQuestions();
            
            // Show first question
            showQuestion(1);
            
            // Start timer
            startTimer();
            
            // Update button
            startExamBtn.innerHTML = '<i class="fas fa-running me-2"></i>Exam in Progress';
            startExamBtn.disabled = true;
            startExamBtn.classList.remove('btn-primary-custom');
            startExamBtn.classList.add('btn-secondary');
            
            // Scroll to exam
            examInterface.scrollIntoView({ behavior: 'smooth' });
        });
        
        // Validate registration form
        function validateRegistrationForm() {
            const studentName = document.getElementById('studentName').value.trim();
            const schoolName = document.getElementById('schoolName').value.trim();
            const rollNumber = document.getElementById('rollNumber').value.trim();
            const age = document.getElementById('age').value;
            const beltLevel = document.getElementById('beltLevel').value;
            const termsCheck = document.getElementById('termsCheck').checked;
            
            if (!studentName || !schoolName || !rollNumber || !age || !beltLevel || !termsCheck) {
                return false;
            }
            
            if (age < 5 || age > 18) {
                return false;
            }
            
            return true;
        }
        
        // Collect student data
        function collectStudentData() {
            studentData = {
                id: examId,
                name: document.getElementById('studentName').value.trim(),
                school: document.getElementById('schoolName').value.trim(),
                rollNumber: document.getElementById('rollNumber').value.trim(),
                age: document.getElementById('age').value,
                beltLevel: document.getElementById('beltLevel').value,
                examDate: new Date().toLocaleDateString('en-IN'),
                examTime: new Date().toLocaleTimeString('en-IN', { hour: '2-digit', minute: '2-digit' }),
                score: 0
            };
        }
        
        // Load questions
        function loadQuestions() {
            let questionsHTML = '';
            
            questions.forEach((q, index) => {
                questionsHTML += `
                    <div class="question-card" id="question-${q.id}" style="${q.id === 1 ? '' : 'display: none;'}">
                        <div class="d-flex justify-content-between align-items-center mb-4">
                            <h3 class="h4 mb-0">Question ${q.id}</h3>
                            <span class="badge bg-primary">2 Marks</span>
                        </div>
                        
                        <div class="mb-4">
                            <div class="alert alert-light mb-3">
                                <p class="fs-4 marathi-text mb-2"><strong>Marathi:</strong> ${q.marathi}</p>
                                <p class="fs-4"><strong>English:</strong> ${q.english}</p>
                            </div>
                        </div>
                        
                        <div class="options-container">
                `;
                
                q.options.forEach(option => {
                    questionsHTML += `
                        <div class="option-item" data-question="${q.id}" data-option="${option.id}">
                            <div class="row">
                                <div class="col-1 text-center">
                                    <div class="option-circle">${option.id}</div>
                                </div>
                                <div class="col-11">
                                    <div class="marathi-text mb-1">${option.marathi}</div>
                                    <div class="text-muted" style="font-size: 0.9rem;">${option.english}</div>
                                </div>
                            </div>
                        </div>
                    `;
                });
                
                questionsHTML += `
                        </div>
                    </div>
                `;
            });
            
            questionsContainer.innerHTML = questionsHTML;
            
            // Add option circle styles
            const style = document.createElement('style');
            style.textContent = `
                .option-circle {
                    width: 40px;
                    height: 40px;
                    border-radius: 50%;
                    background: #e9ecef;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    font-weight: bold;
                    color: #495057;
                    transition: all 0.3s;
                }
                
                .option-item.selected .option-circle {
                    background: #1a237e;
                    color: white;
                }
                
                .option-item {
                    margin-bottom: 15px;
                }
            `;
            document.head.appendChild(style);
            
            // Add event listeners to options
            document.querySelectorAll('.option-item').forEach(option => {
                option.addEventListener('click', function() {
                    const questionId = this.getAttribute('data-question');
                    const optionId = this.getAttribute('data-option');
                    
                    // Save answer
                    studentAnswers[questionId] = optionId;
                    
                    // Update UI
                    document.querySelectorAll(`[data-question="${questionId}"]`).forEach(opt => {
                        opt.classList.remove('selected');
                    });
                    this.classList.add('selected');
                });
            });
        }
        
        // Show question
        function showQuestion(questionNum) {
            // Hide all questions
            document.querySelectorAll('.question-card').forEach(card => {
                card.style.display = 'none';
            });
            
            // Show current question
            const currentQuestionCard = document.getElementById(`question-${questionNum}`);
            if (currentQuestionCard) {
                currentQuestionCard.style.display = 'block';
            }
            
            // Update current question display
            currentQuestionNum.textContent = questionNum;
            
            // Update navigation buttons
            prevBtn.style.display = questionNum === 1 ? 'none' : 'block';
            nextBtn.style.display = questionNum === totalQuestions ? 'none' : 'block';
            submitExamBtn.style.display = questionNum === totalQuestions ? 'block' : 'none';
            
            // Check if answer already selected
            if (studentAnswers[questionNum]) {
                const selectedOption = document.querySelector(`[data-question="${questionNum}"][data-option="${studentAnswers[questionNum]}"]`);
                if (selectedOption) {
                    selectedOption.classList.add('selected');
                }
            }
        }
        
        // Timer function
        function startTimer() {
            updateTimerDisplay();
            
            timerInterval = setInterval(() => {
                examTime--;
                updateTimerDisplay();
                
                // Change color when less than 5 minutes
                if (examTime <= 5 * 60) {
                    timerDisplay.style.color = '#ff4444';
                }
                
                // Auto-submit when time is up
                if (examTime <= 0) {
                    clearInterval(timerInterval);
                    submitExam();
                }
            }, 1000);
        }
        
        function updateTimerDisplay() {
            const minutes = Math.floor(examTime / 60);
            const seconds = examTime % 60;
            timerDisplay.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
        }
        
        // Navigation
        prevBtn.addEventListener('click', () => {
            if (currentQuestion > 1) {
                currentQuestion--;
                showQuestion(currentQuestion);
            }
        });
        
        nextBtn.addEventListener('click', () => {
            if (currentQuestion < totalQuestions) {
                currentQuestion++;
                showQuestion(currentQuestion);
            }
        });
        
        // Submit exam
        submitExamBtn.addEventListener('click', submitExam);
        
        function submitExam() {
            clearInterval(timerInterval);
            
            // Calculate score
            calculateScore();
            
            // Save student record
            saveStudentRecord();
            
            // Show success message popup with score
            showSuccessMessage(examScore);
            
            // Show results after delay
            setTimeout(() => {
                examInterface.style.display = 'none';
                resultsSection.style.display = 'block';
                
                // Update results display
                document.getElementById('resultName').textContent = studentData.name;
                document.getElementById('resultSchool').textContent = studentData.school;
                document.getElementById('resultRoll').textContent = studentData.rollNumber;
                document.getElementById('resultBelt').textContent = studentData.beltLevel;
                document.getElementById('resultDate').textContent = studentData.examDate;
                finalScore.textContent = examScore;
                
                // Scroll to results
                resultsSection.scrollIntoView({ behavior: 'smooth' });
                
                // If admin is logged in, refresh admin data
                if (isAdminLoggedIn) {
                    loadAdminData();
                }
            }, 1000);
        }
        
        // Calculate score
        function calculateScore() {
            let score = 0;
            
            questions.forEach(q => {
                if (studentAnswers[q.id] === q.correct) {
                    score += 2; // 2 marks per question
                }
            });
            
            examScore = score;
            studentData.score = score;
        }
        
        // Save student record to localStorage
        function saveStudentRecord() {
            let records = JSON.parse(localStorage.getItem('karateExamRecords')) || [];
            
            // Add new record
            records.push(studentData);
            
            // Keep only last 1000 records
            if (records.length > 1000) {
                records = records.slice(-1000);
            }
            
            localStorage.setItem('karateExamRecords', JSON.stringify(records));
        }
        
        // Retry exam
        retryExamBtn.addEventListener('click', function() {
            // Reset state
            currentQuestion = 1;
            examTime = 20 * 60;
            studentAnswers = {};
            examScore = 0;
            
            // Reset UI
            timerDisplay.textContent = '20:00';
            timerDisplay.style.color = '';
            resultsSection.style.display = 'none';
            
            // Show main sections
            document.querySelectorAll('section').forEach(section => {
                section.style.display = 'block';
            });
            
            // Reset exam interface
            examInterface.style.display = 'none';
            
            // Reset start button
            startExamBtn.innerHTML = '<i class="fas fa-play-circle me-2"></i>Start Interactive Examination';
            startExamBtn.disabled = false;
            startExamBtn.classList.remove('btn-secondary');
            startExamBtn.classList.add('btn-primary-custom');
            
            // Scroll to top
            window.scrollTo({ top: 0, behavior: 'smooth' });
        });
        
        // ==================== ADMIN PANEL FUNCTIONS ====================
        
        // Admin access button
        adminAccessBtn.addEventListener('click', function() {
            adminPassword.value = '';
            passwordError.style.display = 'none';
            adminLoginModal.show();
        });
        
        // Admin login
        adminLoginBtn.addEventListener('click', function() {
            if (adminPassword.value === ADMIN_PASSWORD) {
                isAdminLoggedIn = true;
                
                // Hide main content and footer
                mainContent.style.display = 'none';
                mainFooter.style.display = 'none';
                
                // Show admin dashboard
                adminDashboard.style.display = 'block';
                
                // Load admin data
                loadAdminData();
                
                // Close modal
                adminLoginModal.hide();
                
                // Show success message
                showNotification('Admin login successful!');
                
                // Scroll to top
                window.scrollTo({ top: 0, behavior: 'smooth' });
            } else {
                passwordError.style.display = 'block';
                adminPassword.classList.add('is-invalid');
                
                // Shake animation
                adminPassword.style.animation = 'none';
                setTimeout(() => {
                    adminPassword.style.animation = 'shake 0.5s';
                }, 10);
                
                // Add shake animation
                const shakeStyle = document.createElement('style');
                shakeStyle.textContent = `
                    @keyframes shake {
                        0%, 100% { transform: translateX(0); }
                        10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
                        20%, 40%, 60%, 80% { transform: translateX(5px); }
                    }
                `;
                document.head.appendChild(shakeStyle);
            }
        });
        
        // Admin logout
        logoutAdminBtn.addEventListener('click', function() {
            isAdminLoggedIn = false;
            
            // Show main content and footer
            mainContent.style.display = 'block';
            mainFooter.style.display = 'block';
            
            // Hide admin dashboard
            adminDashboard.style.display = 'none';
            
            // Show logout message
            showNotification('Admin logout successful!');
            
            // Scroll to top
            window.scrollTo({ top: 0, behavior: 'smooth' });
        });
        
        // Load admin data
        function loadAdminData() {
            showLoading();
            
            setTimeout(() => {
                try {
                    const records = JSON.parse(localStorage.getItem('karateExamRecords')) || [];
                    
                    // Update stats
                    updateAdminStats(records);
                    
                    // Load records table
                    loadRecordsTable(records);
                    
                    hideLoading();
                } catch (error) {
                    console.error('Error loading admin data:', error);
                    showNotification('Error loading admin data!', 'danger');
                    hideLoading();
                }
            }, 500);
        }
        
        // Update admin statistics
        function updateAdminStats(records) {
            if (records.length === 0) {
                totalStudentsStat.textContent = '0';
                avgScoreStat.textContent = '0';
                todayExamsStat.textContent = '0';
                topScoreStat.textContent = '0';
                return;
            }
            
            const today = new Date().toLocaleDateString('en-IN');
            let totalScore = 0;
            let todayCount = 0;
            let maxScore = 0;
            
            records.forEach(record => {
                totalScore += record.score || 0;
                
                if (record.examDate === today) {
                    todayCount++;
                }
                
                if (record.score > maxScore) {
                    maxScore = record.score;
                }
            });
            
            const avgScore = records.length > 0 ? Math.round(totalScore / records.length) : 0;
            
            totalStudentsStat.textContent = records.length;
            avgScoreStat.textContent = avgScore;
            todayExamsStat.textContent = todayCount;
            topScoreStat.textContent = maxScore;
        }
        
        // Load records table
        function loadRecordsTable(records) {
            if (records.length === 0) {
                recordsTableBody.innerHTML = `
                    <tr>
                        <td colspan="9" class="text-center py-5">
                            <div class="text-muted">
                                <i class="fas fa-database fa-3x mb-3"></i>
                                <p>No student records found</p>
                                <small>Records will appear here after students complete exams</small>
                            </div>
                        </td>
                    </tr>
                `;
                return;
            }
            
            // Sort by date (newest first)
            records.sort((a, b) => {
                return new Date(b.examDate + ' ' + b.examTime) - new Date(a.examDate + ' ' + a.examTime);
            });
            
            let tableHTML = '';
            
            records.forEach((record, index) => {
                const score = record.score || 0;
                const scoreColor = getScoreColor(score);
                
                tableHTML += `
                    <tr>
                        <td>${index + 1}</td>
                        <td><strong>${record.name || 'N/A'}</strong></td>
                        <td>${record.school || 'N/A'}</td>
                        <td>${record.rollNumber || 'N/A'}</td>
                        <td>${record.age || 'N/A'}</td>
                        <td><span class="badge bg-primary">${record.beltLevel || 'N/A'}</span></td>
                        <td><span style="color: ${scoreColor}; font-weight: bold;">${score}/30</span></td>
                        <td>${record.examDate || 'N/A'}<br><small>${record.examTime || ''}</small></td>
                        <td>
                            <button class="btn btn-sm btn-outline-primary view-certificate-btn" data-id="${record.id}" data-name="${record.name}" data-school="${record.school}" data-roll="${record.rollNumber}" data-belt="${record.beltLevel}" data-date="${record.examDate}" data-score="${score}">
                                <i class="fas fa-certificate me-1"></i> Certificate
                            </button>
                        </td>
                    </tr>
                `;
            });
            
            recordsTableBody.innerHTML = tableHTML;
            
            // Add event listeners to view certificate buttons
            document.querySelectorAll('.view-certificate-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const recordData = {
                        id: this.getAttribute('data-id'),
                        name: this.getAttribute('data-name'),
                        school: this.getAttribute('data-school'),
                        rollNumber: this.getAttribute('data-roll'),
                        beltLevel: this.getAttribute('data-belt'),
                        examDate: this.getAttribute('data-date'),
                        score: this.getAttribute('data-score')
                    };
                    generateAdminCertificate(recordData);
                });
            });
        }
        
        // Get score color
        function getScoreColor(score) {
            if (score >= 28) return '#28a745'; // Green
            if (score >= 24) return '#ffc107'; // Yellow
            if (score >= 18) return '#fd7e14'; // Orange
            return '#dc3545'; // Red
        }
        
        // Generate certificate for admin - SINGLE PAGE ONLY
        function generateAdminCertificate(record) {
            // Create certificate HTML - SINGLE PAGE ONLY
            const certificateHTML = `
                <!DOCTYPE html>
                <html>
                <head>
                    <title>Certificate - ${record.name}</title>
                    <style>
                        @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@700;800;900&family=Poppins:wght@400;500;600&display=swap');
                        
                        * {
                            margin: 0;
                            padding: 0;
                            box-sizing: border-box;
                        }
                        
                        body {
                            font-family: 'Poppins', sans-serif;
                            display: flex;
                            justify-content: center;
                            align-items: center;
                            min-height: 100vh;
                            background: #f8f9fa;
                            padding: 20px;
                        }
                        
                        .certificate-container {
                            width: 21cm;
                            height: 29.7cm;
                            background: white;
                            border: 25px solid #1a237e;
                            position: relative;
                            box-shadow: 0 20px 60px rgba(0,0,0,0.15);
                            overflow: hidden;
                            page-break-inside: avoid;
                        }
                        
                        .certificate-border {
                            position: absolute;
                            top: 20px;
                            left: 20px;
                            right: 20px;
                            bottom: 20px;
                            border: 3px solid #ffc107;
                            pointer-events: none;
                        }
                        
                        .certificate-content {
                            padding: 70px;
                            height: 100%;
                            display: flex;
                            flex-direction: column;
                            justify-content: center;
                            text-align: center;
                            position: relative;
                            z-index: 1;
                        }
                        
                        .header {
                            margin-bottom: 40px;
                        }
                        
                        .logo {
                            width: 140px;
                            height: 140px;
                            margin: 0 auto 30px;
                        }
                        
                        .logo img {
                            width: 100%;
                            height: 100%;
                            object-fit: contain;
                        }
                        
                        .header h1 {
                            font-family: 'Montserrat', sans-serif;
                            font-size: 46px;
                            color: #1a237e;
                            margin-bottom: 15px;
                            font-weight: 900;
                            line-height: 1.2;
                        }
                        
                        .header p {
                            font-size: 22px;
                            color: #666;
                            margin-bottom: 10px;
                        }
                        
                        .main-content {
                            flex: 1;
                            display: flex;
                            flex-direction: column;
                            justify-content: center;
                        }
                        
                        .certificate-text {
                            font-size: 24px;
                            color: #333;
                            margin-bottom: 30px;
                            line-height: 1.6;
                        }
                        
                        .student-name {
                            font-family: 'Montserrat', sans-serif;
                            font-size: 44px;
                            color: #1a237e;
                            margin: 30px 0;
                            padding: 20px 0;
                            border-bottom: 4px solid #ffc107;
                            display: inline-block;
                        }
                        
                        .details-container {
                            margin: 40px 0;
                        }
                        
                        .details-grid {
                            display: grid;
                            grid-template-columns: repeat(2, 1fr);
                            gap: 20px;
                            margin: 30px 0;
                            text-align: left;
                            max-width: 600px;
                            margin-left: auto;
                            margin-right: auto;
                        }
                        
                        .detail-item {
                            margin-bottom: 15px;
                            font-size: 18px;
                        }
                        
                        .detail-label {
                            font-weight: 600;
                            color: #1a237e;
                        }
                        
                        .score-display {
                            font-size: 40px;
                            color: #1a237e;
                            font-weight: 900;
                            margin: 30px 0;
                            padding: 25px;
                            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
                            border-radius: 15px;
                            display: inline-block;
                        }
                        
                        .footer {
                            margin-top: 50px;
                            color: #666;
                            font-size: 16px;
                        }
                        
                        .certificate-id {
                            font-size: 14px;
                            color: #888;
                            margin-top: 20px;
                        }
                        
                        /* PRINT STYLES - SINGLE PAGE ONLY */
                        @media print {
                            body {
                                margin: 0 !important;
                                padding: 0 !important;
                                background: white !important;
                                height: 100vh !important;
                            }
                            
                            .certificate-container {
                                width: 100% !important;
                                height: 100% !important;
                                border: 25px solid #1a237e !important;
                                margin: 0 !important;
                                padding: 0 !important;
                                box-shadow: none !important;
                                page-break-inside: avoid !important;
                                page-break-after: avoid !important;
                                page-break-before: avoid !important;
                            }
                            
                            .no-print {
                                display: none !important;
                            }
                            
                            @page {
                                size: A4 portrait;
                                margin: 0;
                            }
                        }
                    </style>
                </head>
                <body>
                    <div class="certificate-container">
                        <div class="certificate-border"></div>
                        <div class="certificate-content">
                            <div class="header">
                                <div class="logo">
                                    <img src="https://i.postimg.cc/QttRsxyx/lion-Club-logo.png" alt="Lions Karate Club" onerror="this.style.display='none'">
                                </div>
                                <h1>CERTIFICATE OF ACHIEVEMENT</h1>
                                <p>Lions Karate Club Pune</p>
                            </div>
                            
                            <div class="main-content">
                                <p class="certificate-text">This is to certify that</p>
                                <div class="student-name">${record.name}</div>
                                <p class="certificate-text">has successfully completed the Belt Examination with following details:</p>
                                
                                <div class="details-container">
                                    <div class="details-grid">
                                        <div class="detail-item">
                                            <span class="detail-label">School:</span> ${record.school}
                                        </div>
                                        <div class="detail-item">
                                            <span class="detail-label">Roll Number:</span> ${record.rollNumber}
                                        </div>
                                        <div class="detail-item">
                                            <span class="detail-label">Belt Level:</span> ${record.beltLevel}
                                        </div>
                                        <div class="detail-item">
                                            <span class="detail-label">Exam Date:</span> ${record.examDate}
                                        </div>
                                        <div class="detail-item">
                                            <span class="detail-label">Age Group:</span> Student
                                        </div>
                                    </div>
                                    
                                    <div class="score-display">
                                        Examination Score: ${record.score}/30
                                    </div>
                                    
                                    <p class="certificate-text" style="margin-top: 40px;">
                                        Successfully demonstrated knowledge and understanding of karate principles and techniques.
                                    </p>
                                </div>
                            </div>
                            
                            <div class="footer">
                                <p>Certificate issued on ${record.examDate}</p>
                                <div class="certificate-id">
                                    <i class="fas fa-lock"></i> Official Lions Karate Club Certificate
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="no-print" style="position: fixed; top: 20px; right: 20px;">
                        <button onclick="window.print()" style="padding: 12px 30px; background: #1a237e; color: white; border: none; border-radius: 5px; font-weight: bold; cursor: pointer; font-size: 16px;">
                            <i class="fas fa-print me-2"></i>Print Certificate
                        </button>
                    </div>
                    
                    <script>
                        // Auto print after 1 second
                        setTimeout(() => {
                            window.print();
                        }, 1000);
                    <\/script>
                </body>
                </html>
            `;
            
            // Open certificate in new window
            const certificateWindow = window.open('', '_blank');
            certificateWindow.document.write(certificateHTML);
            certificateWindow.document.close();
        }
        
        // Refresh data button
        refreshDataBtn.addEventListener('click', function() {
            loadAdminData();
            showNotification('Data refreshed successfully!');
        });
        
        // Export data
        exportDataBtn.addEventListener('click', function() {
            exportToCSV();
        });
        
        // Export to CSV
        function exportToCSV() {
            const records = JSON.parse(localStorage.getItem('karateExamRecords')) || [];
            
            if (records.length === 0) {
                showNotification('No data to export!', 'danger');
                return;
            }
            
            // CSV headers
            let csv = 'ID,Name,School,Roll Number,Age,Belt Level,Score,Exam Date,Exam Time\n';
            
            // Add rows
            records.forEach(record => {
                const row = [
                    record.id || '',
                    `"${record.name || ''}"`,
                    `"${record.school || ''}"`,
                    `"${record.rollNumber || ''}"`,
                    record.age || '',
                    `"${record.beltLevel || ''}"`,
                    record.score || 0,
                    `"${record.examDate || ''}"`,
                    `"${record.examTime || ''}"`
                ];
                
                csv += row.join(',') + '\n';
            });
            
            // Create download link
            const blob = new Blob([csv], { type: 'text/csv;charset=utf-8;' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `karate_exam_records_${new Date().toISOString().slice(0,10)}.csv`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            
            showNotification(`Exported ${records.length} records successfully!`);
        }
        
        // ==================== INITIALIZATION ====================
        document.addEventListener('DOMContentLoaded', function() {
            // Set total questions
            document.getElementById('totalQuestions').textContent = totalQuestions;
            
            // Add rotation animation
            const rotationStyle = document.createElement('style');
            rotationStyle.textContent = `
                @keyframes rotate {
                    0% { transform: rotate(0deg); }
                    100% { transform: rotate(360deg); }
                }
            `;
            document.head.appendChild(rotationStyle);
            
            console.log('Karate Examination Portal Loaded Successfully!');
            console.log('ALL ISSUES FIXED:');
            console.log('1. Certificate prints in ONE PAGE only ‚úì');
            console.log('2. NO certificate download for students ‚úì');
            console.log('3. Only admin can download certificates ‚úì');
            console.log('4. All questions have BOTH Marathi & English ‚úì');
            console.log('5. Success message shows score for 4 seconds ‚úì');
        });
    </script>
</body>
</html>
